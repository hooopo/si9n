<% if @signature.errors.any? -%>
  /*Hide the flash notice div*/
  $("#flash_notice").hide(300);

  */Update the html of the div post_errors with the new one*/
  $("#flash_notice").html("<%= escape_javascript(@signature.errors.map{|e| e.last}.join("\n"))%>");
  $("#dialog").dialog('close');
  */Show the div post_errors*/
  $("#flash_notice").show(300);
<% else -%>
  $("#dialog").dialog('close');
  */Hide the div post_errors*/
  $("#flash_notice").hide(300);

  */Update the html of the div flash_notice with the new one*/
  $("#flash_notice").html("<%= escape_javascript(flash[:notice])%>");

  */Show the flash_notice div*/
  $("#flash_notice").show(300);

<% end -%>